var aGoogleTerms,g1="5",g2="5",g3="5",g4="5",GoogleMaxTerms=5;function getGoogleTerms(e){"use strict";aGoogleTerms=[],FCLib$.fnGetSuggestions(e,!1,fnCallbackGetGoogleTerms)}function fnCallbackGetGoogleTerms(e){"use strict";aGoogleTerms=e}function injectGoogleTerms(e,t){"use strict";var a=t.length;if(0<a){GoogleMaxTerms<a&&(a=GoogleMaxTerms),e.SearchTerms||(e.SearchTerms=[]);for(var s=e.SearchTerms.length,r=[],o=0;o<s;o++)r[e.SearchTerms[o].label]=!0;for(o=0;o<a;o++)r[t[o]]||e.SearchTerms.push({label:t[o],q:"?",category:rk("auto-suggest-suggested-searches-title")})}}function fnrk(e){var t={"Buscas sugeridas":"auto-suggest-suggested-search-label","Suggested Terms":"auto-suggest-suggested-search-label","B&#250;squedas sugeridas":"auto-suggest-suggested-search-label","Produtos sugeridos":"auto-suggest-suggested-products-label","Suggested products":"auto-suggest-suggested-products-label","Productos sugeridos":"auto-suggest-suggested-products-label","P&#225;ginas relacionadas":"auto-suggest-related-pages-label","Related pages":"auto-suggest-related-pages-label","Not&#237;cias":"auto-suggest-news-label",News:"auto-suggest-news-label",Noticias:"auto-suggest-news-label"};return t[e]?rk(t[e]):e}jQuery.noConflict(),jQuery(function(g){g.widget("custom.autocomplete",g.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> li:not(.ui-autocomplete-category)")},_renderMenu:function(a,e){var s=this,r="";g.each(e,function(e,t){t.category!=r&&(a.append("<li class='ui-autocomplete-category'><span class='as-categoria'>"+fnrk(t.category)+"</span></li>"),r=t.category),s._renderItemData(a,t)})}}),g("#autocomplete").autocomplete({select:function(e,t){if(t.item.q)return g("#autocomplete-form").submit(),!1;if(t.item.c){var a=t.item.id;return window.location.href="/prod,"+(FCLib$.fnUseEHC()?"productid":"idproduto")+","+a,!1}if(t.item.u)return window.location.href=t.item.u.replace("&amp;","&"),!1;if(t.item.s){t=t.item.id;return window.location.href="/news,"+(FCLib$.fnUseEHC()?"newsid":"idnoticia")+","+t,!1}},focus:function(e,t){t=t.item.value.replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)});return g("input#autocomplete").val(t),!1},source:function(t,a){getGoogleTerms(t.term),g.ajax({url:"/autosuggest.asp?idloja="+FC$.IDLoja+"&format=1&q="+t.term+"&g1="+g1+"&g2="+g2+"&g3="+g3+"&g4="+g4,dataType:"json",type:"GET",success:function(e){!function e(t,a,s,r){if(!FCLib$.bDoneSuggestions&&r<5)return void setTimeout(function(){e(t,a,s,++r)},100);0<GoogleMaxTerms&&injectGoogleTerms(a,aGoogleTerms);var o=a.SearchTerms;var i=a.Products;var l=a.RelatedPages;var n=a.News;g.isArray(o)||(o=[]);g.isArray(i)||(i=[]);g.isArray(l)||(l=[]);g.isArray(n)||(n=[]);var n=[].concat(o,i,l,n);s(g.map(n,function(e){return{category:e.category,t:e.label,q:e.q,nm:e.label,id:e.id,c:e.c,im:e.im,op:e.op,fp:e.fp,v:e.v,p:e.label,u:e.u,id:e.id,t:e.label,s:e.s,d:e.d,label:e.label}}))}(t.term,e,a,0)},error:function(e,t,a){}})},minLength:3}).autocomplete("instance")._renderItem=function(e,t){if(g("li.active:even").css("background-color","#f6f6f6"),t.q){s=1<t.q?rk("auto-suggest-product-plural"):rk("auto-suggest-product")+"&nbsp;&nbsp;";var a=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+g.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),s="?"==t.q?"":"<span>"+t.q+"&nbsp;"+s+"&nbsp;</span>";return g("<li class='active'></li>").data("ui-autocomplete-item",t).append("<a><table width='100%'><tr><td width='90%' id='as-nome-termos'><span>"+a+"</span></td><td align='right' id='as-qtd-termos'>"+s+"</td></tr></table></a>").appendTo(e)}if(t.c){valor=0==t.fp?rk("auto-suggest-call-us"):FCLib$.formatMoney(t.fp,FC$.Currency),sSale=t.fp!=t.op&&0!=t.op?"<span style='background-color:#65984d;color:#ffffff;padding:3px;' class='SearchSaleFC'>&nbsp;"+sF$.fnFormatNumber((t.op-t.fp)/t.op*100)+"%&nbsp;"+rk("auto-suggest-price-off")+"&nbsp;</span>&nbsp;&nbsp;":"";var r=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+g.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return g("<li class='active'></li>").data("ui-autocomplete-item",t).append("<a><table width='100%'><tr height='75px'><td align=center class='SearchIMGFC'><span><img src='"+("#"==t.im.slice(0,1)?FC$.PathPrdExt+t.im.slice(1):FC$.PathPrd+t.im)+"' id='as-img-prod' style='vertical-align:middle;'></span></td><td width='55%'><div id='as-nomecat-prod'><span id='as-nome-prod'>"+r+"</span><br/><span id='as-cat-prod'>"+t.c+"</span></div></td><td width=25 class='as-sale'>"+sSale+"</td><td align='right' id='as-valor-prod' nowrap='nowrap'><span>"+valor+"</span></td></tr></table></a>").appendTo(e)}if(t.u){r=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+g.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return g("<li class='active'></li>").data("ui-autocomplete-item",t).append("<a><table width='100%'><tr valign='0'><td id='as-nome-pag'><a href='"+t.u+"'>"+r+"</td></tr></table></a>").appendTo(e)}if(t.s){a=t.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+g.ui.autocomplete.escapeRegex(this.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");return g("<li class='active'></li>").data("ui-autocomplete-item",t).append("<a><table width='100%'><tr valign='0'><td width='65%' id='as-nome-not'>"+a+"</td><td align='right' id='as-data-not'>"+t.d+"</td></tr></table></a>").appendTo(e)}}});