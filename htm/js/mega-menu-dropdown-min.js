!function(g){"use strict";g.fn.droopmenu=function(e){var t={dmArrow:!1,dmIndicator:!0,dmArrowDirection:"dmarrowup",dmHideClick:!0,dmClickIcon:!0,dmTabAccess:!0,dmAnimation:!0,dmFixed:!1,dmSticky:!1,dmStickyClass:"dmsticky",dmOffCanvas:!0,dmAnimationEffect:"dmfade",dmFixedClass:"dmfixed",dmOffCanvasPos:"dmoffright",dmPosition:"dmtop",dmOrientation:"dmhorizontal",dmCentered:!1,dmCenteredClass:"dmcentered",dmOpenClass:"dmopener",dmAnimDelay:500,dmShowDelay:200,dmHideDelay:200,dmToggleSpeed:200,dmBreakpoint:1024};e=g.extend(t,e);function o(){1==t.dmOffCanvas?(m.removeClass("droopmenu-offcanvas-open"),f.removeClass("dmo-active"),setTimeout(function(){r.removeClass("droopmenu-dmopen")},t.dmAnimDelay)):(l.stop(!0,!0).slideUp(t.dmToggleSpeed),r.removeClass("droopmenu-dmopen"),f.remove())}function d(){u.removeClass("dmt-active"),f.removeClass("dmo-active"),o()}function a(e){e.preventDefault();var o=(a=g(this)).closest("ul:not(.droopmenu-grid ul)"),d=o.find(".dmtoggle-open"),a=(e=a.closest("li")).hasClass("dmtoggle-open"),n=0;e.removeClass(t.dmOpenClass).children("ul").find("li").removeClass(t.dmOpenClass),o.find("ul:not(.droopmenu-grid ul)").stop(!0,!0).slideUp(t.dmToggleSpeed,function(){++n==o.find("ul:not(.droopmenu-grid ul)").length&&(d.removeClass("dmtoggle-open"),d.find("> a").attr("aria-expanded","false"),d.find("ul").removeAttr("style"))}),a||(e.children("ul:not(.droopmenu-grid ul)").stop(!0,!0).slideDown(t.dmToggleSpeed),e.addClass("dmtoggle-open"),e.find("> a").attr("aria-expanded","true"))}function n(){var o,e;t.dmBreakpoint<=h?(g(document).off("click.droopMenu touchstart.droopMenu"),g(i).find(".droopmenu li a .droopmenu-indicator").off("click"),g(i).find(".droopmenu li a:not(.droopmenu-grid a)").off("click"),g(i).removeClass(t.dmOffCanvasPos),g(i).removeClass("droopmenu-offcanvas droopmenu-offcanvas-open"),g(i).closest(r).removeClass("droopmenu-dmopen"),g(i).find(c,f).remove(),1==t.dmAnimation&&g(i).addClass(t.dmAnimationEffect),1==t.dmOffCanvas&&g(i).find(u).removeClass("dmt-active"),1==t.dmTabAccess&&g(i).find("a, object, :input, iframe, [tabindex]").focus(function(){g(this).parents('li:has("ul")').addClass(t.dmOpenClass).find("> a").attr("aria-expanded","true")}).blur(function(){g(this).parents('li:has("ul")').removeClass(t.dmOpenClass).find("> a").attr("aria-expanded","false")}),1==t.dmCentered&&g(i).addClass(t.dmCenteredClass),(e=g(i).find(".droopmenu li:has(ul)")).removeClass(t.dmOpenClass),e.on({mouseenter:function(){var e=g(this);clearTimeout(o),o=setTimeout(function(){e.stop(!0,!0).addClass(t.dmOpenClass),e.find("> a").attr("aria-expanded","true")},t.dmShowDelay)},mouseleave:function(){var e=g(this);setTimeout(function(){e.stop(!0,!0).removeClass(t.dmOpenClass),e.find("> a").attr("aria-expanded","false")},t.dmHideDelay)}})):(g(i).removeClass(t.dmAnimationEffect),g(i).removeClass(t.dmCenteredClass),g(i).find(".droopmenu li:has(ul)").off("mouseenter mouseleave"),(1==t.dmClickIcon?g(i).find(".droopmenu li a .droopmenu-indicator"):g(i).find(".droopmenu li:has(ul) > a")).off("click").on("click",a),1==t.dmOffCanvas&&(l.after(c),l.prepend(f),m.addClass("droopmenu-offcanvas"),m.addClass(t.dmOffCanvasPos),g(i).on("click",function(e){var o=g(i).find(".droopmenu-mclose span");g(e.target).is(o)&&d()})),1==t.dmHideClick&&g(document).on("click.droopMenu touchstart.droopMenu",function(e){1==t.dmOffCanvas?g(e.target).is(C)&&d():i.is(e.target)||0!==i.has(e.target).length||l.slideUp(t.dmToggleSpeed,function(){u.removeClass("dmt-active")}),v.is(e.target)||0!==v.has(e.target).length||((e=g(i).find(".droopmenu-extra .droopmenu li:has(ul)")).removeClass("dmtoggle-open").find("> a").attr("aria-expanded","false"),e.find("> a").removeClass("dmparent-open").siblings("ul").slideUp(t.dmToggleSpeed,function(){}))}))}function s(){g(i).find(u).on("click",function(e){e.preventDefault(),g(this).toggleClass("dmt-active"),g(this).hasClass("dmt-active")?(g(document).on("keyup",function(e){"Escape"===e.key&&(o(),u.removeClass("dmt-active"))}),1==t.dmOffCanvas?(m.addClass("droopmenu-offcanvas-open"),r.addClass("droopmenu-dmopen"),f.addClass("dmo-active")):(l.stop(!0,!0).slideDown(t.dmToggleSpeed),r.removeClass("droopmenu-dmopen"),f.remove())):o()})}var i=g(this),r=g("body"),m=g(i),l=g(".droopmenu-nav"),u=g(".droopmenu-toggle"),p=g('<div class="dm-arrow"></div>'),c=g('<div class="droopmenu-overlay"></div>'),f=g('<div class="droopmenu-mclose"><span></span></div>'),v=g(".droopmenu-extra .droopmenu > li:has(> ul), .droopmenu-extra .droopmenu li .droopmenu-indicator"),C=c,h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return this.each(function(){var e;g(i).find(".droopmenu-tabs").each(function(o){var d=g(this);d.wrapInner('<div class="droopmenu-tabpanel droopmenutabcol"></div>'),d.prepend('<div class="droopmenu-tabnav droopmenutabcol"></div>'),d.find(".droopmenu-tabsection").each(function(e){g(this).attr("id","droopmenutab"+o+e),g(this).children(".droopmenu-tabheader").attr("href","#droopmenutab"+o+e),d.children(".droopmenu-tabnav").append('<a href="#droopmenutab'+o+e+'">'+g(this).children(".droopmenu-tabheader").html()+"</a>")}),d.find(".droopmenu-tabsection:first").addClass("droopmenu-tab-active"),d.find(".droopmenu-tabnav a:first").addClass("droopmenu-tab-active"),d.find(".droopmenu-tabheader").each(function(e){g(this).on("click",function(e){e.preventDefault(),d.find(".droopmenu-tabsection").closest().removeClass("droopmenu-tab-active");e=g(this).parent().index();g(this).hasClass("droopmenu-tab-active")?d.find(".droopmenu-tabsection > .droopmenu-tab-active").removeClass("droopmenu-tab-active"):(d.find(".droopmenu-tabsection > .droopmenu-tab-active").removeClass("droopmenu-tab-active"),d.find(".droopmenu-tabsection:eq("+e+")").children().toggleClass("droopmenu-tab-active"))})}),d.find(".droopmenu-tabnav a").each(function(e){g(this).closest(d).hasClass("droopmenu-tab-hover")?g(this).hover(function(){var e=g(this).index();d.find(".droopmenu-tabsection, .droopmenu-tabnav a").removeClass("droopmenu-tab-active"),d.find(".droopmenu-tabsection:eq("+e+"), .droopmenu-tabnav a:eq("+e+")").toggleClass("droopmenu-tab-active")}):g(this).on("click",function(e){e.preventDefault();e=g(this).index();d.find(".droopmenu-tabsection, .droopmenu-tabnav a").removeClass("droopmenu-tab-active"),d.find(".droopmenu-tabsection:eq("+e+"), .droopmenu-tabnav a:eq("+e+")").toggleClass("droopmenu-tab-active")})})}),function(){if(g(i).find(".droopmenu li a").each(function(){0<g(this).siblings("ul").length&&(g(this).attr("aria-expanded","false"),g(this).parent("li").addClass("droopmenu-parent").attr("aria-haspopup","true"),1==t.dmIndicator&&g(this).append("<span class='droopmenu-indicator'><em></em></span>")),0<g(this).siblings("ul").find(".droopmenu-grid").length&&g(".droopmenu-grid").closest("ul").addClass("droopmenu")}),g(i).find("li:has(ul.droopmenu-megamenu)").addClass("droopmenu-mega"),g(i).find(".droopmenu > li > a").append("<em class='droopmenu-topanim'></em>"),g(i).find(".droopmenu-nav .droopmenu").wrapAll("<div class='droopmenu-nav-wrap'><div class='droopmenu-navi'></div></div>"),g(i).find(u).append("<i class='dm-burg'></i><i class='dm-burg'></i><i class='dm-burg'></i>"),1==t.dmFixed&&g(i).addClass(t.dmFixedClass),1==t.dmSticky&&g(i).addClass(t.dmStickyClass),1==t.dmArrow)switch(g(i).find(".droopmenu > li:has(ul) > a").after(p),t.dmArrowDirection){case"dmarrowup":g(i).addClass("dmarrow-up");break;case"dmarrowdown":g(i).addClass("dmarrow-down")}switch(t.dmOrientation){case"dmvertical":g(i).addClass("droopmenu-vertical");break;case"dmhorizontal":g(i).addClass("droopmenu-horizontal")}switch(t.dmPosition){case"dmtop":g(i).addClass("dmpos-top");break;case"dmbottom":g(i).addClass("dmpos-bottom");break;case"dmleft":g(i).addClass("dmpos-left");break;case"dmright":g(i).addClass("dmpos-right")}}(),n(),s(),g(window).on("resize.droopMenu orientationchange.droopMenu",function(){clearTimeout(e),e=setTimeout(function(){h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n()},100)})})}}(jQuery);